<nav
  class="navbar px-0 mx-0 d-flex justify-content-between align-items-center row mb-3 pt-3"
>
  <div class="d-lg-none col-2 col-sm-2 col-md-1">
    <button
      class="btn btn-outline-light"
      (click)="sidebarService.toggleSidebar()"
    >
      â˜°
    </button>
  </div>

  <div class="position-relative col-12 col-md-9 d-none d-md-block">
    <i class="bi bi-search text-white position-absolute search-icon"></i>
    <input
      type="text"
      class="form-control nav-search ps-5 text-white border-0 p-3"
      placeholder="Search for movies"
      (focus)="getCurrentUrl(); search()"
      (input)="search()"
      [(ngModel)]="searchquery"
      #searchbar
    />
  </div>

  <div
    class="col-10 col-md-2 d-flex justify-content-end align-items-center gap-3"
  >
    <ng-container *ngIf="isloged === 0">
      <div class="spinner-border text-light" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </ng-container>

    <ng-container *ngIf="isloged === 1">
      <button class="btn btn-secondary border-2 py-0 px-2" (click)="logout()">
        <i class="bi bi-box-arrow-left fs-6"></i>
      </button>

      <a routerLink="/movies/wishlist">
        <div class="position-relative">
          <i
            title="Wishlist"
            class="bi bi-heart-fill text-white fs-4"
            routerLinkActive="heart"
          ></i>
          <span
            class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
            style="font-size: 0.6rem; padding: 4px 6px"
          >
            {{ wishlistLength }}
            <span class="visually-hidden">wishlist items</span>
          </span>
        </div>
      </a>

      <a routerLink="/movies/profile" routerLinkActive="active-link">
        <div class="user-icon" id="userIcon">{{ initial }}</div>
      </a>
    </ng-container>

    <ng-container *ngIf="isloged === 2">
      <div class="btn-animated">
        <button class="btn login-btn" routerLink="/login">
          <i class="bi bi-box-arrow-in-right me-2"></i>Login
        </button>
      </div>
    </ng-container>
  </div>

  <div class="position-relative col-12 d-md-none mt-2">
    <i class="bi bi-search text-white position-absolute search-icon"></i>
    <input
      type="text"
      class="form-control nav-search ps-5 text-white border-0 p-3"
      placeholder="Search for movies"
      (focus)="getCurrentUrl(); search()"
      (input)="search()"
      [(ngModel)]="searchquery"
      #searchbar
    />
  </div>
</nav>
